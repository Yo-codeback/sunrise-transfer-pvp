# PVP Plugin

åŸºæ–¼Foliaæ ¸å¿ƒçš„PVPæ’ä»¶ï¼Œæ”¯æ´Minecraft 1.20+ç‰ˆæœ¬ã€‚

ç‰ˆæœ¬: 0.0.0.alpha  
æ—¥æœŸ: 2025/11/13  
ç‹€æ…‹: ç¬¬ä¸€æ¬¡å…§æ¸¬ - æµç¨‹æ¸¬è©¦

## åŠŸèƒ½ç‰¹è‰²

- ğŸ® 5ç¨®éŠæˆ²æ¨¡å¼ï¼šSwordã€Axeã€UHCã€Maceã€Crystal
- ğŸ‘¤ è‡ªè£½NPCç³»çµ±ï¼Œç„¡éœ€ä¾è³´å…¶ä»–æ’ä»¶
- ğŸ—ºï¸ è‡ªå‹•åœ°åœ–è¤‡è£½å’Œç®¡ç†
- ğŸ’ Kitç·¨è¼¯å™¨ï¼Œå¯è‡ªè¨‚å„æ¨¡å¼è£å‚™
- ğŸ“‹ å®Œæ•´çš„æŒ‡ä»¤ç³»çµ±ï¼Œæ”¯æ´Tabè£œå…¨
- ğŸ¯ è‡ªå‹•åŒ¹é…ç³»çµ±

## å®‰è£

1. ç¢ºä¿ä¼ºæœå™¨ä½¿ç”¨Foliaæ ¸å¿ƒï¼ˆ1.20+ï¼‰
2. å°‡æ’ä»¶JARæª”æ¡ˆæ”¾å…¥`plugins`ç›®éŒ„
3. é‡å•Ÿä¼ºæœå™¨
4. ç·¨è¼¯`plugins/PVPPlugin/config.yml`é…ç½®æª”æ¡ˆ
5. ç¢ºä¿å¤§å»³ä¸–ç•Œå·²å‰µå»ºï¼ˆé è¨­åç¨±ï¼š`lobby`ï¼‰

## é…ç½®

### åŸºæœ¬é…ç½®

ç·¨è¼¯`plugins/PVPPlugin/config.yml`ï¼š

```yaml
# å¤§å»³ä¸–ç•Œåç¨±
lobby-world: "lobby"

# éŠæˆ²æ¨¡å¼è¨­å®š
game-modes:
  sword:
    display-name: "Sword"
    color: "AQUA"
    min-players: 2
    max-players: 2
    maps:
      - "sword-basic-01"
      - "sword-basic-02"
      # ... æ›´å¤šåœ°åœ–
```

### NPCä½ç½®é…ç½®

åœ¨`config.yml`ä¸­è¨­å®šNPCä½ç½®ï¼š

```yaml
npc-locations:
  sword:
    world: "lobby"
    x: 0.5
    y: 64.0
    z: 0.5
    yaw: 0.0
    pitch: 0.0
```

### Kité…ç½®

Kité…ç½®æª”æ¡ˆä½æ–¼`plugins/PVPPlugin/kits/`ç›®éŒ„ï¼Œæ¯å€‹æ¨¡å¼ä¸€å€‹æª”æ¡ˆï¼š

```yaml
items:
  0: "DIAMOND_SWORD"
  1: "GOLDEN_APPLE:5"
  2: "BOW"
  3: "ARROW:32"
```

## æŒ‡ä»¤

### ç©å®¶æŒ‡ä»¤

- `/pvp` - é¡¯ç¤ºå¹«åŠ©è¨Šæ¯
- `/pvp game join <æ¨¡å¼>` - åŠ å…¥æŒ‡å®šéŠæˆ²æ¨¡å¼
  - æ¨¡å¼: `sword`, `axe`, `uhc`, `mace`, `crystal`
- `/pvp game leave` - é›¢é–‹ç•¶å‰éŠæˆ²
- `/pvp lobby` - è¿”å›å¤§å»³
- `/pvp kit` - æ‰“é–‹Kitç·¨è¼¯å™¨

### ç®¡ç†å“¡æŒ‡ä»¤

- `/pvp admin` - é¡¯ç¤ºç®¡ç†å“¡å¹«åŠ©
- `/pvp admin id` - åˆ—å‡ºæ‰€æœ‰é€²è¡Œä¸­çš„éŠæˆ²ID
- `/pvp admin open <éŠæˆ²ID>` - å¼·åˆ¶é–‹å§‹éŠæˆ²
- `/pvp admin close <éŠæˆ²ID>` - å¼·åˆ¶çµæŸéŠæˆ²
- `/pvp admin reload` - é‡æ–°è¼‰å…¥é…ç½®
- `/pvp admin list` - åˆ—å‡ºæ‰€æœ‰éŠæˆ²
- `/pvp admin npc spawn <é¡å‹>` - ç”ŸæˆNPC
- `/pvp admin npc remove <é¡å‹>` - ç§»é™¤NPC
- `/pvp admin npc reload` - é‡æ–°è¼‰å…¥NPC

## ä½¿ç”¨èªªæ˜

### åŠ å…¥éŠæˆ²

1. åœ¨å¤§å»³é»æ“ŠéŠæˆ²æ¨¡å¼NPCï¼ˆSwordã€Axeç­‰ï¼‰
2. æˆ–ä½¿ç”¨æŒ‡ä»¤ï¼š`/pvp game join sword`
3. ç³»çµ±æœƒè‡ªå‹•åŒ¹é…æˆ–å‰µå»ºæ–°éŠæˆ²
4. é”åˆ°äººæ•¸ä¸Šé™å¾Œå€’æ•¸3ç§’é–‹å§‹

### ç·¨è¼¯Kit

1. é»æ“ŠKit Editor NPCæˆ–ä½¿ç”¨`/pvp kit`
2. é¸æ“‡è¦ç·¨è¼¯çš„éŠæˆ²æ¨¡å¼
3. åœ¨ç‰©å“æ¬„ä¸­èª¿æ•´ç‰©å“ä½ç½®
4. é—œé–‰ç‰©å“æ¬„è‡ªå‹•å„²å­˜

### å¿«é€Ÿæˆ°é¬¥

1. åœ¨å¤§å»³æ‰‹æŒå¿«é€Ÿæˆ°é¬¥ç‰©å“ï¼ˆé‘½åŠï¼‰
2. é»æ“Šæ‰“é–‹æ¨¡å¼é¸æ“‡GUI
3. é¸æ“‡éŠæˆ²æ¨¡å¼å³å¯åŠ å…¥

## é–‹ç™¼

### æœ¬åœ°ç·¨è­¯

```bash
mvn clean package
```

ç·¨è­¯å¾Œçš„JARæª”æ¡ˆä½æ–¼`target/`ç›®éŒ„ã€‚

### GitHub Actions è‡ªå‹•ç·¨è­¯

å°ˆæ¡ˆå·²é…ç½® GitHub Actions è‡ªå‹•ç·¨è­¯å·¥ä½œæµç¨‹ï¼š

1. **è§¸ç™¼æ¢ä»¶**ï¼š
   - æ¨é€åˆ° `main`ã€`master` æˆ– `develop` åˆ†æ”¯
   - å»ºç«‹ Pull Request åˆ°ä¸Šè¿°åˆ†æ”¯
   - æ‰‹å‹•è§¸ç™¼ï¼ˆworkflow_dispatchï¼‰

2. **ç·¨è­¯æµç¨‹**ï¼š
   - è‡ªå‹•ä½¿ç”¨ JDK 17
   - åŸ·è¡Œ `mvn clean package`
   - ä¸Šå‚³ç·¨è­¯å¾Œçš„ JAR æª”æ¡ˆä½œç‚º artifact

3. **ä¸‹è¼‰ç·¨è­¯çµæœ**ï¼š
   - å‰å¾€ GitHub Actions é é¢
   - é¸æ“‡æœ€æ–°çš„ workflow run
   - åœ¨ "Artifacts" å€å¡Šä¸‹è¼‰ `pvp-plugin` JAR æª”æ¡ˆ
   - Artifact æœƒä¿ç•™ 7 å¤©

4. **å·¥ä½œæµç¨‹æª”æ¡ˆä½ç½®**ï¼š
   - `.github/workflows/build.yml`

**æ³¨æ„**ï¼šGitHub Actions æœƒè‡ªå‹•è™•ç† Maven ä¾è³´ä¸‹è¼‰å’Œç·¨è­¯ï¼Œç„¡éœ€æœ¬åœ°ç’°å¢ƒã€‚

### å°ˆæ¡ˆçµæ§‹

```
src/main/java/com/pvp/
  â”œâ”€â”€ Main.java                 # æ’ä»¶ä¸»é¡åˆ¥
  â”œâ”€â”€ manager/                  # ç®¡ç†å™¨
  â”‚   â”œâ”€â”€ GameManager.java
  â”‚   â”œâ”€â”€ MapManager.java
  â”‚   â”œâ”€â”€ KitManager.java
  â”‚   â”œâ”€â”€ PlayerManager.java
  â”‚   â”œâ”€â”€ NPCManager.java
  â”‚   â””â”€â”€ GUIManager.java
  â”œâ”€â”€ command/                  # æŒ‡ä»¤è™•ç†
  â”‚   â””â”€â”€ PVPCommand.java
  â”œâ”€â”€ game/                     # éŠæˆ²ç›¸é—œ
  â”‚   â”œâ”€â”€ GameInstance.java
  â”‚   â”œâ”€â”€ GameMode.java
  â”‚   â””â”€â”€ GameState.java
  â”œâ”€â”€ gui/                      # GUIç›¸é—œ
  â”‚   â”œâ”€â”€ ModeSelectGUI.java
  â”‚   â””â”€â”€ KitEditorGUI.java
  â”œâ”€â”€ npc/                      # NPCç›¸é—œ
  â”‚   â”œâ”€â”€ GameNPC.java
  â”‚   â””â”€â”€ NPCType.java
  â”œâ”€â”€ listener/                 # äº‹ä»¶ç›£è½
  â”‚   â”œâ”€â”€ PlayerListener.java
  â”‚   â”œâ”€â”€ GUIListener.java
  â”‚   â””â”€â”€ NPCListener.java
  â””â”€â”€ util/                     # å·¥å…·é¡åˆ¥
      â”œâ”€â”€ ConfigUtil.java
      â””â”€â”€ IDGenerator.java
```

## æ³¨æ„äº‹é …

1. **Foliaæ ¸å¿ƒ**: æ­¤æ’ä»¶å°ˆç‚ºFoliaæ ¸å¿ƒè¨­è¨ˆï¼Œä¸é©ç”¨æ–¼Paperæˆ–Spigot
2. **åœ°åœ–æ¨¡æ¿**: éœ€è¦é å…ˆæº–å‚™åœ°åœ–æ¨¡æ¿ï¼Œæ”¾åœ¨ä¼ºæœå™¨æ ¹ç›®éŒ„
3. **å¤§å»³ä¸–ç•Œ**: éœ€è¦å…ˆå‰µå»ºå¤§å»³ä¸–ç•Œï¼ˆé è¨­åç¨±ï¼š`lobby`ï¼‰
4. **æ¬Šé™**: ç®¡ç†å“¡æŒ‡ä»¤éœ€è¦`pvp.admin`æ¬Šé™

## å·²çŸ¥å•é¡Œ

- Kitç·¨è¼¯åŠŸèƒ½éœ€è¦é€²ä¸€æ­¥æ¸¬è©¦
- åœ°åœ–è¤‡è£½åŠŸèƒ½éœ€è¦ç¢ºä¿åœ°åœ–æ¨¡æ¿å­˜åœ¨
- éŠæˆ²æ©Ÿåˆ¶åƒ…å¯¦ä½œåŸºæœ¬æ¡†æ¶ï¼Œå®Œæ•´åŠŸèƒ½å¾…å¾ŒçºŒé–‹ç™¼

## æˆæ¬Š

æ­¤å°ˆæ¡ˆç‚ºå…§éƒ¨é–‹ç™¼å°ˆæ¡ˆã€‚

## æ›´æ–°æ—¥èªŒ

### 0.0.0.alpha (2025/11/13)
- åˆå§‹ç‰ˆæœ¬
- å¯¦ä½œåŸºæœ¬éŠæˆ²æµç¨‹
- è‡ªè£½NPCç³»çµ±
- Kitç·¨è¼¯å™¨
- åœ°åœ–ç®¡ç†ç³»çµ±

